# ATTENTION! THIS ISN'T A FULLY FUNCTIONAL EXAMPLE.
# You should take portions of this example and edit the options to make
# them suitable for your use.
# This file is useful to know all the available options.
kibot:
  version: 1

import:
- file: Elecrow
  definitions:
    _KIBOT_MANF_DIR: Manufacturers/Elecrow
- file: ExportProject
- file: FusionPCB
  definitions:
    _KIBOT_MANF_DIR: Manufacturers/FusionPCB
- file: JLCPCB
  definitions:
    _KIBOT_MANF_DIR: Manufacturers/JLCPCB
    _KIBOT_POS_PRE_TRANSFORM: '[''_kicost_rename'', ''_rot_footprint'']'
- file: MacroFab_XYRS
  definitions:
    _KIBOT_MPN_FIELD: ''
- file: PCB2Blender_2_1
- file: PCBWay
  definitions:
    _KIBOT_MANF_DIR: Manufacturers/PCBWay
- file: PanelDemo_4x4


preflight:
  # [dict] Annotates the PCB according to physical coordinates.
  # This preflight modifies the PCB and schematic, use it only in revision control environments.
  # Used to assign references according to footprint coordinates.
  # The project must be fully annotated first.
  #annotate_pcb:
  #  top_main_axis: y
  #  top_main_ascending: true
  #  top_secondary_ascending: true
  #  top_start: 1
  #  bottom_main_axis: y
  #  bottom_main_ascending: true
  #  bottom_secondary_ascending: true
  #  bottom_start: 101
  #  use_position_of: 'footprint'
  #  grid: 1.0

  # [boolean=false] Annotates all power components.
  # This preflight modifies the schematic, use it only in revision control environments.
  # Used to solve ERC problems when using filters that remove power reference numbers.
  annotate_power: false
  # [boolean=false] Zones are filled before doing any operation involving PCB layers.
  # The original PCB remains unchanged. If you need to abort when the zone fill
  # creates significant changes to a layer use the CheckZoneFill internal template.
  check_zone_fills: false
  # [boolean=False|dict] Draw the PCB stackup. Needs KiCad 7 or newer.
  # To specify the position and size of the drawing you can use two methods.
  # You can specify it using the *pos_x*, *pos_y*, *width*, *height* and *layer* options.
  # But you can also draw a rectangle in your PCB with the size and layer you want.
  # Then draw another thing inside the rectangle, select both and create a group
  # (right mouse button, then Grouping -> Group). Now edit the group and change its name
  # to *kibot_stackup*. After running this preflight the rectangle will contain the
  # stackup.
  draw_stackup: true
  # [boolean=false|dict] Runs the DRC (Distance Rules Check). To ensure we have a valid PCB.
  # You need a valid *fp-lib-table* installed. If not KiBot will try to temporarily install the template.
  # This is a replacement for the *run_drc* preflight that needs KiCad 8 or newer.
  # GUI exclusions and schematic parity are supported.
  drc:
    dont_stop: true
    format: HTML,RPT,JSON,CSV
  # [boolean=false|dict] Runs the ERC (Electrical Rules Check). To ensure the schematic is electrically correct.
  # You need a valid *sym-lib-table* installed. If not KiBot will try to temporarily install the template.
  # This is a replacement for the *run_erc* preflight that needs KiCad 8 or newer.
  erc:
    dont_stop: true
    format: HTML,RPT,JSON,CSV
  # [boolean=false] **Deprecated**, use the `warnings_as_errors` option from `run_erc`/`erc`.
  # Option for `run_erc`. ERC warnings are considered errors.
  erc_warnings: false
  # [boolean=false] Fill all zones again and save the PCB.
  fill_zones: true
  # [list(dict)] A list of entries to filter out ERC/DRC messages when using *run_erc*/*run_drc*.
  # Avoid using it with the new *erc* and *drc* preflights.
  # Note that ignored errors will become KiBot warnings (i.e. `(W058) ...`).
  # To farther ignore these warnings use the `filters` option in the `global` section.
  #filters:
  #  - filter: 'Filter description'
  #    error: '10'
  #    regex: 'Regular expression to match'
  # [boolean=false] **Deprecated**, use the `ignore_unconnected` option from `run_drc`/`drc`.
  # Option for `run_drc`. Ignores the unconnected nets. Useful if you didn't finish the routing.
  # It will also ignore KiCad 6 warnings when using `run_drc`.
  ignore_unconnected: false
  # [dict] Replaces tags in the PCB. I.e. to insert the git hash or last revision date.
  # This is useful for KiCad 5, use `set_text_variables` when using KiCad 6.
  # This preflight modifies the PCB. Even when a back-up is done use it carefully.
  #pcb_replace:
  #  date_command: 'git log -1 --format="%as" -- "$KIBOT_PCB_NAME"'
  #  replace_tags:
  #    - tag: '@git_hash@'
  #      command: 'git log -1 --format="%h" "$KIBOT_PCB_NAME"'
  #      before: 'Git hash: <'
  #      after: '>'
  # [boolean=false|dict] Runs the DRC (Distance Rules Check). To ensure we have a valid PCB.
  # The report file name is controlled by the global output pattern (%i=drc %x=txt).
  # Note that the KiCad 6+ *Test for parity between PCB and schematic* option is not supported.
  # If you need to check the parity use the `update_xml` preflight.
  # KiCad 6 introduced `warnings` they are currently counted be the `unconnected` counter of KiBot.
  # This will change in the future.
  # If you use DRC exclusions please consult the `drc_exclusions_workaround` global option.
  #run_drc: true
  # [boolean=false|dict] (Deprecated for KiCad 8, use *erc*) Runs the ERC (Electrical Rules Check).
  # To ensure the schematic is electrically correct.
  # The report file name is controlled by the global output pattern (%i=erc %x=txt).
  #run_erc: true
  # [dict] Replaces tags in the schematic. I.e. to insert the git hash or last revision date.
  # This is useful for KiCad 5, use `set_text_variables` when using KiCad 6.
  # This preflight modifies the schematics. Even when a back-up is done use it carefully.
  #sch_replace:
  #  date_command: 'git log -1 --format="%as" -- "$KIBOT_SCH_NAME"'
  #  replace_tags:
  #    - tag: '@git_hash@'
  #      command: 'git log -1 --format="%h" "$KIBOT_SCH_NAME"'
  #      before: 'Git hash: <'
  #      after: '>'
  # [dict|list(dict)] Defines KiCad 6+ variables.
  # They are expanded using `${VARIABLE}`, and stored in the project file.
  # This preflight replaces `pcb_replace` and `sch_replace` when using KiCad 6.
  # The KiCad project file is modified.
  # Warning: don't use `-s all` or this preflight will be skipped.
  set_text_variables:
    - name: 'git_hash'
      command: 'git log -1 --format="%h" "$KIBOT_PCB_NAME"'
      before: ''
      after: ''
    - name: 'version'
      command: 'git describe --tags'
      before: ''
      after: ''
    - name: 'date'
      command: 'date +"%Y-%m-%d %H:%M%z"'
      before: ''
      after: ''
  # [string|list(string)=''] Updates footprints from the libs, you must provide one or more references to be updated.
  # This is useful to replace logos using freshly created versions.
  #update_footprint: QR1, QR2
  # [boolean=False] Update the information in the Board Characteristics.
  # Starting with KiCad 7 you can paste a block containing board information using
  # *Place* -> *Add Board Characteristics*. But this information is static, so if
  # you modify anything related to it the block will be obsolete.
  # This preflight tries to refresh the information.
  update_pcb_characteristics: true
  # [boolean=false] Update the QR codes.
  # Complements the `qr_lib` output.
  # The KiCad 6 files and the KiCad 5 PCB needs manual update, generating a new library isn't enough.
  #update_qr: true
  # [boolean=False] Update the information in the Stackup Table.
  # Starting with KiCad 7 you can paste a block containing board information using
  # *Place* -> *Stackup Table*. But this information is static, so if
  # you modify anything related to it the block will be obsolete.
  # This preflight tries to refresh the information.
  update_stackup: true
  # [boolean=false|dict] Update the XML version of the BoM (Bill of Materials).
  # To ensure our generated BoM is up to date.
  # Note that this isn't needed when using the internal BoM generator (`bom`).
  # You can compare the PCB and schematic netlists using it.
  update_xml:
    enabled: true
    check_pcb_parity: true

outputs:
  - name: PanelDemo_4x4
    comment: "Create a 4x4 panel"
    type: panelize
    dir: Panel
    options:
      title: '+ (Panel)'
      units: mm
      create_preview: true
      configs:
        - layout:
            rows: 2
            cols: 2
          #page:
          #  size: A0
          cuts:
            type: vcuts
            layer: "0"
          framing:
            type: tightframe
            hspace: "0mm",
            vspace: "0mm",
            fillet: "2mm"
          copperfill:
            type: hatched
            clearance: 2
            spacing: 0.5
            width: 0.5
          #tooling:
          #  type: 3hole
          #  hoffset: 2.5
          #  voffset: 2.5
          #  size: 1.5
          fiducials:
            type: 3fid
            hoffset: 2.5mm
            voffset: 10mm
            coppersize: 2mm
            opening: 1mm
          text:
            text: "Panel for {boardTitle}"
            anchor: mt
            voffset: 2.5
            hjustify: center
            vjustify: center
          text2:
            type: "simple",
            layer: "0",
            text: "3 half etched fiducials on frame"
  # Blender Export:
  # Also renders the PCB with high-quality.
  # Needs KiCad 6 or newer.
  # This output is complex to setup and needs very big dependencies.
  # Please be patient when using it.
  # You need Blender with the pcb2blender plug-in installed.
  # Visit: [pcb2blender](https://github.com/30350n/pcb2blender).
  # You can just generate the exported PCB if no output is specified.
  # You can also export the PCB and render it at the same time
  - name: basic_blender_export
    comment: 3D view from top/30 deg/bottom (Blender)
    type: blender_export
    dir: 3D
    options:
      pcb3d: _PCB2Blender_2_1
      outputs:
      - type: render
      - type: blender
      point_of_view:
      - view: top
      - rotate_x: 30
        rotate_z: -20
        file_id: _30deg
      - view: bottom
  # BoardView:
  # This format allows simple pads and connections navigation, mainly for circuit debug.
  # The output can be loaded using Open Board View (https://openboardview.org/)
  - name: basic_boardview
  comment: Board View export
  type: boardview
  dir: Assembly
- name: generic_bom_html
  comment: Generic Bill of Materials in HTML format
  type: bom
  dir: BoM/Generic
  options:
    format: HTML
    count_smd_tht: true
- name: generic_bom_csv
  comment: Generic Bill of Materials in CSV format
  type: bom
  dir: BoM/Generic
  options:
    format: CSV
    count_smd_tht: true
- name: generic_bom_hrtxt
  comment: Generic Bill of Materials in HRTXT format
  type: bom
  dir: BoM/Generic
  options:
    format: HRTXT
    hrtxt:
      separator: '|'
    count_smd_tht: true
- name: generic_bom_tsv
  comment: Generic Bill of Materials in TSV format
  type: bom
  dir: BoM/Generic
  options:
    format: TSV
    count_smd_tht: true
- name: generic_bom_xml
  comment: Generic Bill of Materials in XML format
  type: bom
  dir: BoM/Generic
  options:
    format: XML
    count_smd_tht: true
- name: generic_bom_xlsx
  comment: Generic Bill of Materials in XLSX format
  type: bom
  dir: BoM/Generic
  options:
    format: XLSX
    count_smd_tht: true
- name: positional_bom_html
  comment: Positional Bill of Materials in HTML format
  type: bom
  dir: BoM/Positional
  options:
    format: HTML
    columns: &id001
    - Row
    - Description
    - Part
    - Part Lib
    - References
    - Value
    - Footprint
    - Footprint Lib
    - Quantity Per PCB
    - Build Quantity
    - Status
    - Datasheet
    - Sheetpath
    - Source BoM
    - Footprint X
    - Footprint Y
    - Footprint Rot
    - Footprint Side
    - Footprint Type
    - Footprint Populate
    - Footprint X-Size
    - Footprint Y-Size
    count_smd_tht: true
    html:
      style: modern-red
- name: positional_bom_xlsx
  comment: Positional Bill of Materials in XLSX format
  type: bom
  dir: BoM/Positional
  options:
    format: XLSX
    columns: *id001
    count_smd_tht: true
    xlsx:
      style: modern-red
- name: costs_bom_xlsx
  comment: Costs Bill of Materials in XLSX format
  type: bom
  dir: BoM/Costs
  options:
    format: XLSX
    count_smd_tht: true
    xlsx:
      style: modern-green
      kicost: true
      specs: true
      kicost_api_disable: KitSpace
    pre_transform: _kicost_rename
- name: basic_diff_pcb
  comment: PCB diff between the last two changes
  type: diff
  dir: diff
  layers:
  - layer: F.Cu
    suffix: F_Cu
    description: Front copper
  - layer: In1.Cu
    suffix: In1_Cu
    description: Inner layer 1
  - layer: In2.Cu
    suffix: In2_Cu
    description: Inner layer 2
  - layer: In3.Cu
    suffix: In3_Cu
    description: Inner layer 3
  - layer: In4.Cu
    suffix: In4_Cu
    description: Inner layer 4
  - layer: B.Cu
    suffix: B_Cu
    description: Bottom copper
  - layer: F.Adhesive
    suffix: F_Adhesive
    description: Front adhesive (glue)
  - layer: B.Paste
    suffix: B_Paste
    description: Bottom solder paste
  - layer: F.Paste
    suffix: F_Paste
    description: Front solder paste
  - layer: B.Silkscreen
    suffix: B_Silkscreen
    description: Bottom silkscreen (artwork)
  - layer: F.Silkscreen
    suffix: F_Silkscreen
    description: Front silkscreen (artwork)
  - layer: B.Mask
    suffix: B_Mask
    description: Bottom soldermask (negative)
  - layer: F.Mask
    suffix: F_Mask
    description: Front soldermask (negative)
  - layer: User.Drawings
    suffix: User_Drawings
    description: User drawings
  - layer: Edge.Cuts
    suffix: Edge_Cuts
    description: Board shape
  - layer: B.Courtyard
    suffix: B_Courtyard
    description: Bottom courtyard area
  - layer: F.Courtyard
    suffix: F_Courtyard
    description: Front courtyard area
  - layer: B.Fab
    suffix: B_Fab
    description: Bottom documentation
  - layer: F.Fab
    suffix: F_Fab
    description: Front documentation
  options:
    old: KIBOT_LAST-1
    old_type: git
    new: HEAD
    new_type: git
    cache_dir: /home/albin/hw-half-bridge/.cache
    add_link_id: true
- name: basic_diff_sch
  comment: Schematic diff between the last two changes
  type: diff
  dir: diff
  options:
    old: KIBOT_LAST-1
    old_type: git
    new: HEAD
    new_type: git
    cache_dir: /home/albin/hw-half-bridge/.cache
    add_link_id: true
    pcb: false
- name: basic_download_datasheets
  comment: Download the datasheets
  type: download_datasheets
  dir: Datasheets
- name: basic_dxf
  comment: Individual layers in DXF format
  type: dxf
  dir: Individual_Layers/DXF
  layers:
  - layer: F.Cu
    suffix: F_Cu
    description: Front copper
  - layer: In1.Cu
    suffix: In1_Cu
    description: Inner layer 1
  - layer: In2.Cu
    suffix: In2_Cu
    description: Inner layer 2
  - layer: In3.Cu
    suffix: In3_Cu
    description: Inner layer 3
  - layer: In4.Cu
    suffix: In4_Cu
    description: Inner layer 4
  - layer: B.Cu
    suffix: B_Cu
    description: Bottom copper
  - layer: F.Adhesive
    suffix: F_Adhesive
    description: Front adhesive (glue)
  - layer: B.Paste
    suffix: B_Paste
    description: Bottom solder paste
  - layer: F.Paste
    suffix: F_Paste
    description: Front solder paste
  - layer: B.Silkscreen
    suffix: B_Silkscreen
    description: Bottom silkscreen (artwork)
  - layer: F.Silkscreen
    suffix: F_Silkscreen
    description: Front silkscreen (artwork)
  - layer: B.Mask
    suffix: B_Mask
    description: Bottom soldermask (negative)
  - layer: F.Mask
    suffix: F_Mask
    description: Front soldermask (negative)
  - layer: User.Drawings
    suffix: User_Drawings
    description: User drawings
  - layer: Edge.Cuts
    suffix: Edge_Cuts
    description: Board shape
  - layer: B.Courtyard
    suffix: B_Courtyard
    description: Bottom courtyard area
  - layer: F.Courtyard
    suffix: F_Courtyard
    description: Front courtyard area
  - layer: B.Fab
    suffix: B_Fab
    description: Bottom documentation
  - layer: F.Fab
    suffix: F_Fab
    description: Front documentation
- name: basic_dxf_sch_print
  comment: Schematic in DXF format
  type: dxf_sch_print
  dir: Schematic
- name: basic_excellon
  comment: Drill files in EXCELLON format
  type: excellon
  dir: Gerbers_and_Drill
  options:
    map: pdf
- name: basic_gencad
  comment: PCB in GenCAD format
  type: gencad
  dir: Export
- name: basic_gerb_drill
  comment: Drill files in GERB_DRILL format
  type: gerb_drill
  dir: Gerbers_and_Drill
  options:
    map: gerber
- name: gerber_modern
  comment: Gerbers in modern format, recommended by the standard
  type: gerber
  dir: Gerbers_and_Drill
  layers:
  - layer: F.Cu
    suffix: F_Cu
    description: Front copper
  - layer: In1.Cu
    suffix: In1_Cu
    description: Inner layer 1
  - layer: In2.Cu
    suffix: In2_Cu
    description: Inner layer 2
  - layer: In3.Cu
    suffix: In3_Cu
    description: Inner layer 3
  - layer: In4.Cu
    suffix: In4_Cu
    description: Inner layer 4
  - layer: B.Cu
    suffix: B_Cu
    description: Bottom copper
  - layer: F.Adhesive
    suffix: F_Adhesive
    description: Front adhesive (glue)
  - layer: B.Paste
    suffix: B_Paste
    description: Bottom solder paste
  - layer: F.Paste
    suffix: F_Paste
    description: Front solder paste
  - layer: B.Silkscreen
    suffix: B_Silkscreen
    description: Bottom silkscreen (artwork)
  - layer: F.Silkscreen
    suffix: F_Silkscreen
    description: Front silkscreen (artwork)
  - layer: B.Mask
    suffix: B_Mask
    description: Bottom soldermask (negative)
  - layer: F.Mask
    suffix: F_Mask
    description: Front soldermask (negative)
  - layer: User.Drawings
    suffix: User_Drawings
    description: User drawings
  - layer: Edge.Cuts
    suffix: Edge_Cuts
    description: Board shape
  - layer: B.Courtyard
    suffix: B_Courtyard
    description: Bottom courtyard area
  - layer: F.Courtyard
    suffix: F_Courtyard
    description: Front courtyard area
  - layer: B.Fab
    suffix: B_Fab
    description: Bottom documentation
  - layer: F.Fab
    suffix: F_Fab
    description: Front documentation
- name: basic_hpgl
  comment: Individual layers in HPGL format
  type: hpgl
  dir: Individual_Layers/HPGL
  layers:
  - layer: F.Cu
    suffix: F_Cu
    description: Front copper
  - layer: In1.Cu
    suffix: In1_Cu
    description: Inner layer 1
  - layer: In2.Cu
    suffix: In2_Cu
    description: Inner layer 2
  - layer: In3.Cu
    suffix: In3_Cu
    description: Inner layer 3
  - layer: In4.Cu
    suffix: In4_Cu
    description: Inner layer 4
  - layer: B.Cu
    suffix: B_Cu
    description: Bottom copper
  - layer: F.Adhesive
    suffix: F_Adhesive
    description: Front adhesive (glue)
  - layer: B.Paste
    suffix: B_Paste
    description: Bottom solder paste
  - layer: F.Paste
    suffix: F_Paste
    description: Front solder paste
  - layer: B.Silkscreen
    suffix: B_Silkscreen
    description: Bottom silkscreen (artwork)
  - layer: F.Silkscreen
    suffix: F_Silkscreen
    description: Front silkscreen (artwork)
  - layer: B.Mask
    suffix: B_Mask
    description: Bottom soldermask (negative)
  - layer: F.Mask
    suffix: F_Mask
    description: Front soldermask (negative)
  - layer: User.Drawings
    suffix: User_Drawings
    description: User drawings
  - layer: Edge.Cuts
    suffix: Edge_Cuts
    description: Board shape
  - layer: B.Courtyard
    suffix: B_Courtyard
    description: Bottom courtyard area
  - layer: F.Courtyard
    suffix: F_Courtyard
    description: Front courtyard area
  - layer: B.Fab
    suffix: B_Fab
    description: Bottom documentation
  - layer: F.Fab
    suffix: F_Fab
    description: Front documentation
- name: basic_hpgl_sch_print
  comment: Schematic in HPGL format
  type: hpgl_sch_print
  dir: Schematic
- name: basic_ibom
  comment: Interactive HTML BoM
  type: ibom
  dir: Assembly
- name: basic_info
  comment: Information about the run
  type: info
  dir: .
- name: basic_kicanvas
  comment: Web page to browse the schematic and/or PCB
  type: kicanvas
  dir: Browse
  options:
    source:
    - schematic
    - pcb
- name: basic_kikit_present
  comment: Simple project presentation
  type: kikit_present
  dir: Presentation
  options:
    description: '# Presentation for half-bridge

      This is an automatically generated presentation page'
    boards:
      mode: local
      comment: Resources included
      front_image: renderer_for_present
      back_image: renderer_for_present
      gerbers: gerbers_for_present
- name: renderer_for_present
  comment: Renderer for the presentation
  type: pcbdraw
  dir: Render_for_presentation
  run_by_default: false
- name: gerbers_for_present
  comment: Gerbers for the presentation
  type: gerber
  dir: Gerber_for_presentation
  layers: copper
  run_by_default: false
- name: basic_kiri
  comment: Interactive diff between commits
  type: kiri
  dir: diff
  layers:
  - layer: F.Cu
    suffix: F_Cu
    description: Front copper
  - layer: In1.Cu
    suffix: In1_Cu
    description: Inner layer 1
  - layer: In2.Cu
    suffix: In2_Cu
    description: Inner layer 2
  - layer: In3.Cu
    suffix: In3_Cu
    description: Inner layer 3
  - layer: In4.Cu
    suffix: In4_Cu
    description: Inner layer 4
  - layer: B.Cu
    suffix: B_Cu
    description: Bottom copper
  - layer: F.Adhesive
    suffix: F_Adhesive
    description: Front adhesive (glue)
  - layer: B.Paste
    suffix: B_Paste
    description: Bottom solder paste
  - layer: F.Paste
    suffix: F_Paste
    description: Front solder paste
  - layer: B.Silkscreen
    suffix: B_Silkscreen
    description: Bottom silkscreen (artwork)
  - layer: F.Silkscreen
    suffix: F_Silkscreen
    description: Front silkscreen (artwork)
  - layer: B.Mask
    suffix: B_Mask
    description: Bottom soldermask (negative)
  - layer: F.Mask
    suffix: F_Mask
    description: Front soldermask (negative)
  - layer: User.Drawings
    suffix: User_Drawings
    description: User drawings
  - layer: Edge.Cuts
    suffix: Edge_Cuts
    description: Board shape
  - layer: B.Courtyard
    suffix: B_Courtyard
    description: Bottom courtyard area
  - layer: F.Courtyard
    suffix: F_Courtyard
    description: Front courtyard area
  - layer: B.Fab
    suffix: B_Fab
    description: Bottom documentation
  - layer: F.Fab
    suffix: F_Fab
    description: Front documentation
  options:
    max_commits: 4
- name: basic_navigate_results
  comment: Web page to browse the results
  type: navigate_results
  dir: Browse
  options:
    link_from_root: index.html
    skip_not_run: true
- name: classic_netlist
  comment: Schematic netlist in KiCad format
  type: netlist
  dir: Export
- name: ipc_netlist
  comment: IPC-D-356 netlist for testing
  type: netlist
  dir: Export
  options:
    format: ipc
- name: basic_pcb_print_pdf
  comment: PCB
  type: pcb_print
  dir: PCB/PDF
  options:
    format: PDF
    pages:
    - layers:
      - layer: F.Cu
      - layer: F.Mask
        color: '#14332440'
      - layer: F.Paste
      - layer: F.Silkscreen
      - layer: Edge.Cuts
      - layer: User.Drawings
      sheet: Front copper
    - layers:
      - layer: In1.Cu
      - layer: Edge.Cuts
      - layer: User.Drawings
      sheet: Inner layer 1
    - layers:
      - layer: In2.Cu
      - layer: Edge.Cuts
      - layer: User.Drawings
      sheet: Inner layer 2
    - layers:
      - layer: In3.Cu
      - layer: Edge.Cuts
      - layer: User.Drawings
      sheet: Inner layer 3
    - layers:
      - layer: In4.Cu
      - layer: Edge.Cuts
      - layer: User.Drawings
      sheet: Inner layer 4
    - layers:
      - layer: B.Cu
      - layer: B.Mask
        color: '#14332440'
      - layer: B.Paste
      - layer: B.Silkscreen
      - layer: Edge.Cuts
      - layer: User.Drawings
      mirror: true
      sheet: Bottom copper
    - layers:
      - layer: B.Courtyard
      - layer: Edge.Cuts
      - layer: User.Drawings
      mirror: true
      sheet: Bottom courtyard area
    - layers:
      - layer: F.Courtyard
      - layer: Edge.Cuts
      - layer: User.Drawings
      sheet: Front courtyard area
    - layers:
      - layer: B.Fab
      - layer: Edge.Cuts
      - layer: User.Drawings
      mirror: true
      sheet: Bottom documentation
    - layers:
      - layer: F.Fab
      - layer: Edge.Cuts
      - layer: User.Drawings
      sheet: Front documentation
    keep_temporal_files: true
- name: basic_pcb_print_svg
  comment: PCB
  type: pcb_print
  dir: PCB/SVG
  options:
    format: SVG
    pages:
    - layers:
      - layer: F.Cu
      - layer: F.Mask
        color: '#14332440'
      - layer: F.Paste
      - layer: F.Silkscreen
      - layer: Edge.Cuts
      - layer: User.Drawings
      sheet: Front copper
    - layers:
      - layer: In1.Cu
      - layer: Edge.Cuts
      - layer: User.Drawings
      sheet: Inner layer 1
    - layers:
      - layer: In2.Cu
      - layer: Edge.Cuts
      - layer: User.Drawings
      sheet: Inner layer 2
    - layers:
      - layer: In3.Cu
      - layer: Edge.Cuts
      - layer: User.Drawings
      sheet: Inner layer 3
    - layers:
      - layer: In4.Cu
      - layer: Edge.Cuts
      - layer: User.Drawings
      sheet: Inner layer 4
    - layers:
      - layer: B.Cu
      - layer: B.Mask
        color: '#14332440'
      - layer: B.Paste
      - layer: B.Silkscreen
      - layer: Edge.Cuts
      - layer: User.Drawings
      mirror: true
      sheet: Bottom copper
    - layers:
      - layer: B.Courtyard
      - layer: Edge.Cuts
      - layer: User.Drawings
      mirror: true
      sheet: Bottom courtyard area
    - layers:
      - layer: F.Courtyard
      - layer: Edge.Cuts
      - layer: User.Drawings
      sheet: Front courtyard area
    - layers:
      - layer: B.Fab
      - layer: Edge.Cuts
      - layer: User.Drawings
      mirror: true
      sheet: Bottom documentation
    - layers:
      - layer: F.Fab
      - layer: Edge.Cuts
      - layer: User.Drawings
      sheet: Front documentation
    keep_temporal_files: true
    add_background: true
- name: basic_pcb_print_png
  comment: PCB
  type: pcb_print
  dir: PCB/PNG
  options:
    format: PNG
    pages:
    - layers:
      - layer: F.Cu
      - layer: F.Mask
        color: '#14332440'
      - layer: F.Paste
      - layer: F.Silkscreen
      - layer: Edge.Cuts
      - layer: User.Drawings
      sheet: Front copper
    - layers:
      - layer: In1.Cu
      - layer: Edge.Cuts
      - layer: User.Drawings
      sheet: Inner layer 1
    - layers:
      - layer: In2.Cu
      - layer: Edge.Cuts
      - layer: User.Drawings
      sheet: Inner layer 2
    - layers:
      - layer: In3.Cu
      - layer: Edge.Cuts
      - layer: User.Drawings
      sheet: Inner layer 3
    - layers:
      - layer: In4.Cu
      - layer: Edge.Cuts
      - layer: User.Drawings
      sheet: Inner layer 4
    - layers:
      - layer: B.Cu
      - layer: B.Mask
        color: '#14332440'
      - layer: B.Paste
      - layer: B.Silkscreen
      - layer: Edge.Cuts
      - layer: User.Drawings
      mirror: true
      sheet: Bottom copper
    - layers:
      - layer: B.Courtyard
      - layer: Edge.Cuts
      - layer: User.Drawings
      mirror: true
      sheet: Bottom courtyard area
    - layers:
      - layer: F.Courtyard
      - layer: Edge.Cuts
      - layer: User.Drawings
      sheet: Front courtyard area
    - layers:
      - layer: B.Fab
      - layer: Edge.Cuts
      - layer: User.Drawings
      mirror: true
      sheet: Bottom documentation
    - layers:
      - layer: F.Fab
      - layer: Edge.Cuts
      - layer: User.Drawings
      sheet: Front documentation
    keep_temporal_files: true
    add_background: true
- name: basic_pcb_print_eps
  comment: PCB
  type: pcb_print
  dir: PCB/EPS
  options:
    format: EPS
    pages:
    - layers:
      - layer: F.Cu
      - layer: F.Mask
        color: '#14332440'
      - layer: F.Paste
      - layer: F.Silkscreen
      - layer: Edge.Cuts
      - layer: User.Drawings
      sheet: Front copper
    - layers:
      - layer: In1.Cu
      - layer: Edge.Cuts
      - layer: User.Drawings
      sheet: Inner layer 1
    - layers:
      - layer: In2.Cu
      - layer: Edge.Cuts
      - layer: User.Drawings
      sheet: Inner layer 2
    - layers:
      - layer: In3.Cu
      - layer: Edge.Cuts
      - layer: User.Drawings
      sheet: Inner layer 3
    - layers:
      - layer: In4.Cu
      - layer: Edge.Cuts
      - layer: User.Drawings
      sheet: Inner layer 4
    - layers:
      - layer: B.Cu
      - layer: B.Mask
        color: '#14332440'
      - layer: B.Paste
      - layer: B.Silkscreen
      - layer: Edge.Cuts
      - layer: User.Drawings
      mirror: true
      sheet: Bottom copper
    - layers:
      - layer: B.Courtyard
      - layer: Edge.Cuts
      - layer: User.Drawings
      mirror: true
      sheet: Bottom courtyard area
    - layers:
      - layer: F.Courtyard
      - layer: Edge.Cuts
      - layer: User.Drawings
      sheet: Front courtyard area
    - layers:
      - layer: B.Fab
      - layer: Edge.Cuts
      - layer: User.Drawings
      mirror: true
      sheet: Bottom documentation
    - layers:
      - layer: F.Fab
      - layer: Edge.Cuts
      - layer: User.Drawings
      sheet: Front documentation
    keep_temporal_files: true
- name: basic_pcb_print_ps
  comment: PCB
  type: pcb_print
  dir: PCB/PS
  options:
    format: PS
    pages:
    - layers:
      - layer: F.Cu
      - layer: F.Mask
        color: '#14332440'
      - layer: F.Paste
      - layer: F.Silkscreen
      - layer: Edge.Cuts
      - layer: User.Drawings
      sheet: Front copper
    - layers:
      - layer: In1.Cu
      - layer: Edge.Cuts
      - layer: User.Drawings
      sheet: Inner layer 1
    - layers:
      - layer: In2.Cu
      - layer: Edge.Cuts
      - layer: User.Drawings
      sheet: Inner layer 2
    - layers:
      - layer: In3.Cu
      - layer: Edge.Cuts
      - layer: User.Drawings
      sheet: Inner layer 3
    - layers:
      - layer: In4.Cu
      - layer: Edge.Cuts
      - layer: User.Drawings
      sheet: Inner layer 4
    - layers:
      - layer: B.Cu
      - layer: B.Mask
        color: '#14332440'
      - layer: B.Paste
      - layer: B.Silkscreen
      - layer: Edge.Cuts
      - layer: User.Drawings
      mirror: true
      sheet: Bottom copper
    - layers:
      - layer: B.Courtyard
      - layer: Edge.Cuts
      - layer: User.Drawings
      mirror: true
      sheet: Bottom courtyard area
    - layers:
      - layer: F.Courtyard
      - layer: Edge.Cuts
      - layer: User.Drawings
      sheet: Front courtyard area
    - layers:
      - layer: B.Fab
      - layer: Edge.Cuts
      - layer: User.Drawings
      mirror: true
      sheet: Bottom documentation
    - layers:
      - layer: F.Fab
      - layer: Edge.Cuts
      - layer: User.Drawings
      sheet: Front documentation
    keep_temporal_files: true
- name: basic_pcbdraw_svg_jlcpcb_green_enig_top
  comment: PCB 2D render in SVG format, using jlcpcb-green-enig style
  type: pcbdraw
  dir: PCB/2D_render/jlcpcb_green_enig
  options:
    style: jlcpcb-green-enig
    format: svg
- name: basic_pcbdraw_png_jlcpcb_green_enig_top
  comment: PCB 2D render in PNG format, using jlcpcb-green-enig style
  type: pcbdraw
  dir: PCB/2D_render/jlcpcb_green_enig
  options:
    style: jlcpcb-green-enig
    format: png
- name: basic_pcbdraw_jpg_jlcpcb_green_enig_top
  comment: PCB 2D render in JPG format, using jlcpcb-green-enig style
  type: pcbdraw
  dir: PCB/2D_render/jlcpcb_green_enig
  options:
    style: jlcpcb-green-enig
    format: jpg
- name: basic_pcbdraw_svg_set_blue_enig_top
  comment: PCB 2D render in SVG format, using set-blue-enig style
  type: pcbdraw
  dir: PCB/2D_render/set_blue_enig
  options:
    style: set-blue-enig
    format: svg
- name: basic_pcbdraw_png_set_blue_enig_top
  comment: PCB 2D render in PNG format, using set-blue-enig style
  type: pcbdraw
  dir: PCB/2D_render/set_blue_enig
  options:
    style: set-blue-enig
    format: png
- name: basic_pcbdraw_jpg_set_blue_enig_top
  comment: PCB 2D render in JPG format, using set-blue-enig style
  type: pcbdraw
  dir: PCB/2D_render/set_blue_enig
  options:
    style: set-blue-enig
    format: jpg
- name: basic_pcbdraw_svg_set_red_hasl_top
  comment: PCB 2D render in SVG format, using set-red-hasl style
  type: pcbdraw
  dir: PCB/2D_render/set_red_hasl
  options:
    style: set-red-hasl
    format: svg
- name: basic_pcbdraw_png_set_red_hasl_top
  comment: PCB 2D render in PNG format, using set-red-hasl style
  type: pcbdraw
  dir: PCB/2D_render/set_red_hasl
  options:
    style: set-red-hasl
    format: png
- name: basic_pcbdraw_jpg_set_red_hasl_top
  comment: PCB 2D render in JPG format, using set-red-hasl style
  type: pcbdraw
  dir: PCB/2D_render/set_red_hasl
  options:
    style: set-red-hasl
    format: jpg
- name: basic_pcbdraw_svg_jlcpcb_green_enig_bottom
  comment: PCB 2D render in SVG format, using jlcpcb-green-enig style
  type: pcbdraw
  dir: PCB/2D_render/jlcpcb_green_enig
  options:
    style: jlcpcb-green-enig
    format: svg
    bottom: true
- name: basic_pcbdraw_png_jlcpcb_green_enig_bottom
  comment: PCB 2D render in PNG format, using jlcpcb-green-enig style
  type: pcbdraw
  dir: PCB/2D_render/jlcpcb_green_enig
  options:
    style: jlcpcb-green-enig
    format: png
    bottom: true
- name: basic_pcbdraw_jpg_jlcpcb_green_enig_bottom
  comment: PCB 2D render in JPG format, using jlcpcb-green-enig style
  type: pcbdraw
  dir: PCB/2D_render/jlcpcb_green_enig
  options:
    style: jlcpcb-green-enig
    format: jpg
    bottom: true
- name: basic_pcbdraw_svg_set_blue_enig_bottom
  comment: PCB 2D render in SVG format, using set-blue-enig style
  type: pcbdraw
  dir: PCB/2D_render/set_blue_enig
  options:
    style: set-blue-enig
    format: svg
    bottom: true
- name: basic_pcbdraw_png_set_blue_enig_bottom
  comment: PCB 2D render in PNG format, using set-blue-enig style
  type: pcbdraw
  dir: PCB/2D_render/set_blue_enig
  options:
    style: set-blue-enig
    format: png
    bottom: true
- name: basic_pcbdraw_jpg_set_blue_enig_bottom
  comment: PCB 2D render in JPG format, using set-blue-enig style
  type: pcbdraw
  dir: PCB/2D_render/set_blue_enig
  options:
    style: set-blue-enig
    format: jpg
    bottom: true
- name: basic_pcbdraw_svg_set_red_hasl_bottom
  comment: PCB 2D render in SVG format, using set-red-hasl style
  type: pcbdraw
  dir: PCB/2D_render/set_red_hasl
  options:
    style: set-red-hasl
    format: svg
    bottom: true
- name: basic_pcbdraw_png_set_red_hasl_bottom
  comment: PCB 2D render in PNG format, using set-red-hasl style
  type: pcbdraw
  dir: PCB/2D_render/set_red_hasl
  options:
    style: set-red-hasl
    format: png
    bottom: true
- name: basic_pcbdraw_jpg_set_red_hasl_bottom
  comment: PCB 2D render in JPG format, using set-red-hasl style
  type: pcbdraw
  dir: PCB/2D_render/set_red_hasl
  options:
    style: set-red-hasl
    format: jpg
    bottom: true
- name: basic_pdf
  comment: Individual layers in PDF format
  type: pdf
  dir: Individual_Layers/PDF
  layers:
  - layer: F.Cu
    suffix: F_Cu
    description: Front copper
  - layer: In1.Cu
    suffix: In1_Cu
    description: Inner layer 1
  - layer: In2.Cu
    suffix: In2_Cu
    description: Inner layer 2
  - layer: In3.Cu
    suffix: In3_Cu
    description: Inner layer 3
  - layer: In4.Cu
    suffix: In4_Cu
    description: Inner layer 4
  - layer: B.Cu
    suffix: B_Cu
    description: Bottom copper
  - layer: F.Adhesive
    suffix: F_Adhesive
    description: Front adhesive (glue)
  - layer: B.Paste
    suffix: B_Paste
    description: Bottom solder paste
  - layer: F.Paste
    suffix: F_Paste
    description: Front solder paste
  - layer: B.Silkscreen
    suffix: B_Silkscreen
    description: Bottom silkscreen (artwork)
  - layer: F.Silkscreen
    suffix: F_Silkscreen
    description: Front silkscreen (artwork)
  - layer: B.Mask
    suffix: B_Mask
    description: Bottom soldermask (negative)
  - layer: F.Mask
    suffix: F_Mask
    description: Front soldermask (negative)
  - layer: User.Drawings
    suffix: User_Drawings
    description: User drawings
  - layer: Edge.Cuts
    suffix: Edge_Cuts
    description: Board shape
  - layer: B.Courtyard
    suffix: B_Courtyard
    description: Bottom courtyard area
  - layer: F.Courtyard
    suffix: F_Courtyard
    description: Front courtyard area
  - layer: B.Fab
    suffix: B_Fab
    description: Bottom documentation
  - layer: F.Fab
    suffix: F_Fab
    description: Front documentation
- name: basic_pdf_sch_print
  comment: Schematic in PDF format
  type: pdf_sch_print
  dir: Schematic
- name: basic_position_ASCII
  comment: Components position for Pick & Place
  type: position
  dir: Position
  options:
    format: ASCII
    only_smd: false
- name: basic_position_CSV
  comment: Components position for Pick & Place
  type: position
  dir: Position
  options:
    format: CSV
    only_smd: false
- name: basic_ps
  comment: Individual layers in PS format
  type: ps
  dir: Individual_Layers/PS
  layers:
  - layer: F.Cu
    suffix: F_Cu
    description: Front copper
  - layer: In1.Cu
    suffix: In1_Cu
    description: Inner layer 1
  - layer: In2.Cu
    suffix: In2_Cu
    description: Inner layer 2
  - layer: In3.Cu
    suffix: In3_Cu
    description: Inner layer 3
  - layer: In4.Cu
    suffix: In4_Cu
    description: Inner layer 4
  - layer: B.Cu
    suffix: B_Cu
    description: Bottom copper
  - layer: F.Adhesive
    suffix: F_Adhesive
    description: Front adhesive (glue)
  - layer: B.Paste
    suffix: B_Paste
    description: Bottom solder paste
  - layer: F.Paste
    suffix: F_Paste
    description: Front solder paste
  - layer: B.Silkscreen
    suffix: B_Silkscreen
    description: Bottom silkscreen (artwork)
  - layer: F.Silkscreen
    suffix: F_Silkscreen
    description: Front silkscreen (artwork)
  - layer: B.Mask
    suffix: B_Mask
    description: Bottom soldermask (negative)
  - layer: F.Mask
    suffix: F_Mask
    description: Front soldermask (negative)
  - layer: User.Drawings
    suffix: User_Drawings
    description: User drawings
  - layer: Edge.Cuts
    suffix: Edge_Cuts
    description: Board shape
  - layer: B.Courtyard
    suffix: B_Courtyard
    description: Bottom courtyard area
  - layer: F.Courtyard
    suffix: F_Courtyard
    description: Front courtyard area
  - layer: B.Fab
    suffix: B_Fab
    description: Bottom documentation
  - layer: F.Fab
    suffix: F_Fab
    description: Front documentation
- name: basic_ps_sch_print
  comment: Schematic in PS format
  type: ps_sch_print
  dir: Schematic
- name: basic_qr_lib_example
  comment: QR code symbol and footprint example
  type: qr_lib
  dir: QR_libs
  options:
    qrs:
    - correction_level: medium
      name: QR_data
      pcb_negative: true
    - correction_level: medium
      name: QR_kibot
      text: https://github.com/INTI-CMNB/KiBot/
    use_sch_dir: false
- name: basic_render_3d_top
  comment: 3D view from top
  type: render_3d
  dir: 3D
  options:
    ray_tracing: true
    orthographic: true
- name: basic_render_3d_30deg
  comment: 3D view from 30 degrees
  type: render_3d
  dir: 3D
  output_id: 30deg
  options:
    ray_tracing: true
    rotate_x: 3
    rotate_z: -2
- name: basic_render_3d_bottom
  comment: 3D view from bottom
  type: render_3d
  dir: 3D
  options:
    ray_tracing: true
    orthographic: true
    view: bottom
- name: report_simple
  comment: Simple design report
  type: report
  output_id: _simple
  options:
    template: simple_ASCII
    do_convert: true
- name: report_full
  comment: Full design report
  type: report
  options:
    template: full_SVG
    do_convert: true
- name: basic_stencil_3d
  comment: 3D self-registering stencil
  type: stencil_3d
  dir: Assembly
- name: basic_stencil_for_jig
  comment: Steel stencil for alignment jig
  type: stencil_for_jig
  dir: Assembly
  options:
    jigwidth: 100
    jigheight: 100
- name: basic_step
  comment: 3D model in STEP format
  type: step
  dir: 3D
- name: basic_svg
  comment: Individual layers in SVG format
  type: svg
  dir: Individual_Layers/SVG
  layers:
  - layer: F.Cu
    suffix: F_Cu
    description: Front copper
  - layer: In1.Cu
    suffix: In1_Cu
    description: Inner layer 1
  - layer: In2.Cu
    suffix: In2_Cu
    description: Inner layer 2
  - layer: In3.Cu
    suffix: In3_Cu
    description: Inner layer 3
  - layer: In4.Cu
    suffix: In4_Cu
    description: Inner layer 4
  - layer: B.Cu
    suffix: B_Cu
    description: Bottom copper
  - layer: F.Adhesive
    suffix: F_Adhesive
    description: Front adhesive (glue)
  - layer: B.Paste
    suffix: B_Paste
    description: Bottom solder paste
  - layer: F.Paste
    suffix: F_Paste
    description: Front solder paste
  - layer: B.Silkscreen
    suffix: B_Silkscreen
    description: Bottom silkscreen (artwork)
  - layer: F.Silkscreen
    suffix: F_Silkscreen
    description: Front silkscreen (artwork)
  - layer: B.Mask
    suffix: B_Mask
    description: Bottom soldermask (negative)
  - layer: F.Mask
    suffix: F_Mask
    description: Front soldermask (negative)
  - layer: User.Drawings
    suffix: User_Drawings
    description: User drawings
  - layer: Edge.Cuts
    suffix: Edge_Cuts
    description: Board shape
  - layer: B.Courtyard
    suffix: B_Courtyard
    description: Bottom courtyard area
  - layer: F.Courtyard
    suffix: F_Courtyard
    description: Front courtyard area
  - layer: B.Fab
    suffix: B_Fab
    description: Bottom documentation
  - layer: F.Fab
    suffix: F_Fab
    description: Front documentation
- name: basic_svg_sch_print
  comment: Schematic in SVG format
  type: svg_sch_print
  dir: Schematic
- name: basic_vrml
  comment: PCB in VRML format
  type: vrml
  dir: 3D


...
definitions:
  _KIBOT_MANF_DIR_COMP: Manufacturers
  _KIBOT_GERBER_LAYERS: "- layer: 'F.Cu'\n        suffix: 'F_Cu'\n        description:\
    \ 'Front copper'\n      - layer: 'In1.Cu'\n        suffix: 'In1_Cu'\n        description:\
    \ 'Inner layer 1'\n      - layer: 'In2.Cu'\n        suffix: 'In2_Cu'\n       \
    \ description: 'Inner layer 2'\n      - layer: 'In3.Cu'\n        suffix: 'In3_Cu'\n\
    \        description: 'Inner layer 3'\n      - layer: 'In4.Cu'\n        suffix:\
    \ 'In4_Cu'\n        description: 'Inner layer 4'\n      - layer: 'B.Cu'\n    \
    \    suffix: 'B_Cu'\n        description: 'Bottom copper'\n      - layer: 'B.Paste'\n\
    \        suffix: 'B_Paste'\n        description: 'Bottom solder paste'\n     \
    \ - layer: 'F.Paste'\n        suffix: 'F_Paste'\n        description: 'Front solder\
    \ paste'\n      - layer: 'B.Silkscreen'\n        suffix: 'B_Silkscreen'\n    \
    \    description: 'Bottom silkscreen (artwork)'\n      - layer: 'F.Silkscreen'\n\
    \        suffix: 'F_Silkscreen'\n        description: 'Front silkscreen (artwork)'\n\
    \      - layer: 'B.Mask'\n        suffix: 'B_Mask'\n        description: 'Bottom\
    \ soldermask (negative)'\n      - layer: 'F.Mask'\n        suffix: 'F_Mask'\n\
    \        description: 'Front soldermask (negative)'\n      - layer: 'Edge.Cuts'\n\
    \        suffix: 'Edge_Cuts'\n        description: 'Board shape'"
